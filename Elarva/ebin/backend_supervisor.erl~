-module(backend_supervisor).

-behaviour(supervisor).

-export([start_link/0, start_link/1, init/1]).

start_link() ->
	supervisor:start_link({local, ?MODULE}, ?MODULE, []).

start_link(TracerPid) ->
	supervisor:start_link({local, ?MODULE}, ?MODULE, TracerPid).

init(Arg) ->
	ets:new(hashTable, [named_table, bag, public]),
	{ok, {{one_for_one, 1,60}, [{backend, {backend, start_link, []}, permanent, brutal_kill, worker, [backend]},
	{backend_tracer, {backend_tracer, start_link, [Arg]}, permanent, brutal_kill, worker, [backend_tracer]}]}}.

