GLOBAL{ 

	FOREACH <{patient, newPatient, [Name]}> {

	PROPERTY patient{

		EVENTS{ 
			Trigger = SEND <{trigger_request}>
			Request = SEND <{request_record,Name}>
			Response = RECEIVE <{backend_response,{Patient,Diagnosis}}>
			Reject = RECEIVE <{backend_response,request_denied}>
		}EVENTS 

		STATES{ 
			
			BAD{
				reject {} 
			}BAD 
			NORMAL{ 
				response {}
				request {}
				trigger {}
			}NORMAL
			STARTING{
				start {}
			}STARTING 

		}STATES 
		
		TRANSITIONS{ 
			start -> trigger [Trigger\\]
			trigger -> request [Request\\]
			request -> response [Response\\]
			request -> reject [Reject\\] 
		}TRANSITIONS 

	}PROPERTY

	}FOREACH

	FOREACH <{doctor, newDoctor, [Name]}> {

	PROPERTY doctor{

		EVENTS{ 
			Login = SEND <{doctor_login,DocName}>
			Logout = SEND <{doctor_logout,DocName}>
		}EVENTS 

		STATES{ 
			
			BAD{
				reject {} 
			}BAD 
			NORMAL{ 
				login {}
			}NORMAL
			STARTING{
				logout {}
			}STARTING 

		}STATES 
		
		TRANSITIONS{ 
			logout -> login [Login\\]
			login -> logout [Logout\\]
		}TRANSITIONS 

	}PROPERTY

	}FOREACH

}GLOBAL
