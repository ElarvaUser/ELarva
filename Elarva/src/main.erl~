%% Author: Dru
%% Created: 6 Dec 2010
%% Description: TODO: Add description to main
-module(main).

%%
%% Include files
%%

%%
%% Exported Functions
%%
-export([monitor_property_3/0, violate_property_3()/0]).

%%
%% API Functions
%%

monitor_property_3() ->
    backend ! {createDoctor, 'Dr. Abela'},
    timer:sleep(1000),
    backend ! {createDoctor, 'Dr. Sammut'},
    timer:sleep(1000),
    backend ! {createPatient, 'Andrew'},
    timer:sleep(1000),
    'Dr. Abela' ! {addPatient, 'Andrew'},
    timer:sleep(1000),
    'Dr. Sammut' ! {addPatient, 'Andrew'},
    timer:sleep(1000),
    'Andrew' ! {requestRecord},
    timer:sleep(1000),
    'Dr. Abela' ! {sendResponse, 'Andrew', approve},
    timer:sleep(1000),
    'Dr. Sammut' ! {sendResponse, 'Andrew', approve}.

violate_property_3() ->
    backend ! {createDoctor, 'Dr. Abela'},
    timer:sleep(1000),
    backend ! {createDoctor, 'Dr. Sammut'},
    timer:sleep(1000),
    backend ! {createPatient, 'Andrew'},
    timer:sleep(1000),
    'Dr. Abela' ! {addPatient, 'Andrew'},
    timer:sleep(1000),
    'Dr. Sammut' ! {addPatient, 'Andrew'},
    timer:sleep(1000),
    'Andrew' ! {requestRecord},
    timer:sleep(1000),
    'Dr. Abela' ! {sendResponse, 'Andrew', approve},
    timer:sleep(1000),
    'Andrew' ! {backend_response,{'Andrew',fever}}.

